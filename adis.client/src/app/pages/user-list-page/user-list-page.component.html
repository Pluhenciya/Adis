<div class="user-management-container">
  <div class="header-section">
    <div class="title-group">
      <h1 class="page-title">Управление пользователями</h1>
      <p class="page-subtitle">Все зарегистрированные пользователи системы</p>
    </div>
    <button mat-flat-button color="primary" (click)="openAddUserDialog()" class="add-user-btn">
      <mat-icon>person_add_alt_1</mat-icon>
      Новый пользователь
    </button>
  </div>

  <div class="users-grid">
    <mat-card class="user-card" *ngFor="let user of users" [ngClass]="'role-' + user.role.toLowerCase()">
      <div class="card-header">
        <div class="user-avatar">
          <mat-icon>account_circle</mat-icon>
        </div>
        <div class="user-meta">
          <h3 class="user-name">{{ user.fullName || 'Без имени' }}</h3>
          <p class="user-email">{{ user.email }}</p>
        </div>
      </div>

      <mat-divider></mat-divider>

      <div class="card-details">
        <div class="detail-item">
          <mat-icon class="detail-icon">security</mat-icon>
          <div class="detail-content">
            <span class="detail-label">Уровень доступа</span>
            <span class="detail-value">{{ getRoleLabel(user.role) }}</span>
          </div>
        </div>

        <div class="detail-item">
          <mat-icon class="detail-icon">event_available</mat-icon>
          <div class="detail-content">
            <span class="detail-label">Дата регистрации</span>
            <span class="detail-value">{{ user.createdAt | date: 'dd.MM.yyyy' }}</span>
          </div>
        </div>
      </div>

      <div class="card-actions">
        <button mat-icon-button class="action-btn edit" matTooltip="Редактировать профиль" (click)="openEditUserDialog(user)">
          <mat-icon>edit_note</mat-icon>
        </button>
        <button mat-icon-button class="action-btn delete" matTooltip="Удалить пользователя" (click)="deleteUser(user)">
          <mat-icon>delete_forever</mat-icon>
        </button>
      </div>
    </mat-card>
  </div>
</div>